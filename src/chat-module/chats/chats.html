<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{ 'chats.title' | translate }}</ion-title>

  </ion-navbar>
</ion-header>

<ion-content>
  <empty-placeholder message="chats.empty-placeholder" *ngIf="!loading && chats.length === 0"></empty-placeholder>
  <loader *ngIf="loading"></loader>

  <ion-list>

    <!-- <ion-item-divider>{{ "chats.new" | translate }}</ion-item-divider> -->

    <button (click)="open(c)" ion-item *ngFor="let c of chats" [class.new-chat]="c.new"
      [color]="c.newCount ? 'white' : ''">
      <ion-avatar item-start>
        <img [src]="c.other.imgBase | image">
      </ion-avatar>
      <h2>{{ c.other.userName }}</h2>
      <p *ngIf="c.lastMessage">{{ c.lastMessage.text }}</p>
      <p class="italics" *ngIf="!c.lastMessage">{{ 'chats.empty-chat' | translate }}</p>

      <div class="right-hand" item-right>
        <ion-badge *ngIf="!c.lastMessage" color="lighter">{{ 'chats.new-chat-badge' | translate }}</ion-badge>
        <small class="time" *ngIf="c.lastMessage">{{ c.lastMessage.created | timeAgo }}</small>
        <ion-badge *ngIf="c.newCount" color="silks">{{ c.newCount }}</ion-badge>
      </div>
    </button>

    <!-- <ion-item-divider>{{ "chats.old" | translate }}</ion-item-divider> -->






  </ion-list>
</ion-content>